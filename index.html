<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>PRONOTE - Espace élèves - Metice Réunion</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        button {
            padding: 15px 30px;
            font-size: 18px;
            margin: 20px;
            cursor: pointer;
        }
        input[type="password"] {
            padding: 10px;
            font-size: 16px;
        }

        /* Image plein écran */
        #fullImage {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            object-fit: contain;
            background-color: rgba(0,0,0,0.9);
            z-index: 9999;
        }

        #chatContainer {
            margin-top: 40px;
        }
    </style>
</head>
<body>

<h1>Bienvenue sur FG</h1>
<p>Site pour les potes</p>

<div id="loginDiv">
    <input type="password" id="mdpInput" placeholder="Entre le mot de passe">
    <button onclick="verifierMDP()">Valider</button>
</div>

<div id="content" style="display:none;">
    <button onclick="window.open('https://bloxd.io/game/bedwars_4v4v4v4', '_blank')">Bedwars</button>
    <button onclick="window.open('https://rocketgoal.io/', '_blank')">Rocket League</button>
    <button onclick="window.open('https://slither.io/', '_blank')">Slither.io</button>
    <button onclick="window.open('https://diep.io/', '_blank')">Diep.io</button>
    <button onclick="window.open('https://curvefever.pro/', '_blank')">Curve Fever Pro</button>
    <button onclick="window.open('https://play2048.co/', '_blank')">2048</button>
    <button onclick="window.open('https://enzo974power.github.io/fg/', '_blank')">Espace de Enzo</button>
    <button onclick="window.open('https://poxel.io/', '_blank')">Poxel.io</button>
    <button onclick="window.open('https://shellshock.io/', '_blank')">Shell Shockers</button>
    <button onclick="window.open('https://slopegame.io/geometry-dash/', '_blank')">Geometry Dash</button>

    <!-- Chat apparaîtra ici -->
    <div id="chatContainer"></div>
</div>

<script>
const motDePasse = "Tipitou974!";

function verifierMDP() {
    const saisie = document.getElementById("mdpInput").value;

    if(saisie === motDePasse){
        document.getElementById("loginDiv").style.display = "none";
        document.getElementById("content").style.display = "block";

        // ✅ Charger le nouveau Chatango seulement après mot de passe
        var script = document.createElement("script");
        script.id = "cid0020000432055617108";
        script.async = true;
        script.src = "//st.chatango.com/js/gz/emb.js";
        script.setAttribute("data-cfasync","false");
        script.style.width = "200px";
        script.style.height = "300px";
        script.innerHTML = '{"handle":"freegameschat974","arch":"js","styles":{"a":"404040","b":58,"c":"FFFFFF","d":"FFFFFF","f":58,"i":58,"k":"404040","l":"404040","m":"404040","n":"FFFFFF","o":58,"p":"10","q":"404040","r":58,"pos":"br","cv":1,"cvbg":"404040","cvbga":58,"cvw":58,"cvh":18}}';

        document.getElementById("chatContainer").appendChild(script);

    } else {

        // Afficher message rouge avant redirection
        let message = document.getElementById("errorMessage");

        if(!message){
            message = document.createElement("h6");
            message.id = "errorMessage";
            message.style.color = "black";
            message.style.fontSize = "30px";
            message.style.marginTop = "20px";
            document.getElementById("loginDiv").appendChild(message);
        }

        message.textContent = "Vous n'êtes pas autorisé à utiliser ce site. Nous allons en informer votre administrateur. Redirection...";

        // Attendre 2 secondes puis rediriger
        setTimeout(function() {
            window.location.href = "https://www.google.com";
        }, 2000);
    }
}

// Image plein écran avec Entrée
document.addEventListener("keydown", function(event) {
    if(event.key === "Enter") {
        const contentDiv = document.getElementById("content");

        if(contentDiv.style.display === "block" && !document.getElementById("fullImage")) {
            const img = document.createElement("img");
            img.src = "surprise.png";
            img.id = "fullImage";
            img.alt = "Surprise !";

            img.addEventListener("click", function(){ img.remove(); });

            document.body.appendChild(img);
        }
    }
});
</script>

</body>
</html>
